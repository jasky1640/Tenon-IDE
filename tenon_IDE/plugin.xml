<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="editors.ExampleEditor"
            contributorClass="org.eclipse.ui.texteditor.BasicTextEditorActionContributor"
            default="true"
            extensions="t"
            icon="icons/sample.gif"
            id="joe.example"
            name="%editor.name">
      </editor>

   </extension>
   
   <extension
         point="org.eclipse.ui.commands">
      <command
         id="doCompile"
         name="%command.name">
      </command>
            <command
            id="doDebug"
            name="doDebug">
      </command>
      <command
            id="quitTvm"
            name="quitTvm">
      </command>
      <command
            id="runT"
            name="runT">
      </command>
      <command
            id="nextT"
            name="nextT">
      </command>
      <command
            id="breakpointT"
            name="breakpointT">
      </command>
      <command
            id="backtraceT"
            name="backtraceT">
      </command>
      <command
            id="continueT"
            name="continueT">
      </command>
      <command
            id="disableT"
            name="disableT">
      </command>
      <command
            id="showT"
            name="showT">
      </command>
   </extension>
   
   <extension
         point="org.eclipse.ui.handlers">
      <handler
         class="console.DoCompile"
         commandId="doCompile">
      </handler>
      <handler
            class="debugCommand.DoDebug"
            commandId="doDebug">
      </handler>
      <handler
            class="debugCommand.QuitTvm"
            commandId="quitTvm">
      </handler>
      <handler
            class="debugCommand.RunT"
            commandId="runT">
      </handler>
      <handler
            class="debugCommand.NextT"
            commandId="nextT">
      </handler>
      <handler
            class="debugCommand.BreakpointT"
            commandId="breakpointT">
      </handler>
      <handler
            class="debugCommand.BacktraceT"
            commandId="backtraceT">
      </handler>
      <handler
            class="debugCommand.ContinueT"
            commandId="continueT">
      </handler>
      <handler
            class="debugCommand.DisableT"
            commandId="disableT">
      </handler>
      <handler
            class="debugCommand.ShowT"
            commandId="showT">
      </handler>
   </extension>
   
   <extension
        point="org.eclipse.ui.console.consoleFactories">
      <consoleFactory
        class="console.ConsoleFactory1"
        label="%consoleFactory.label">
      </consoleFactory>
   </extension>
   
   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
         id="TenonEditor.doCompile"
         label="%actionSet.label"
         visible="true">
         <menu
               id="TenonEditor.menu1"
               label="%menu.label">
         </menu>
         <action
               class="console.DoCom"
               id="TenonEditor.action1"
               label="%action.label"
               tooltip = "%command.label"
               style="push"
               toolbarPath="Normal/additon">
         </action>
      </actionSet>
   </extension>


   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
         allPopups="false"
         locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <command
               commandId="doCompile"
               label="%command.label"
               icon = "icons/compile.png"
               style="push">
         </command>
      </menuContribution>	
   </extension>
   
    <!-- Tenon Debugger Part-->
    <!--Tenon Debugger 初始视图-->
    <extension point="org.eclipse.ui.views">
        <view 
            id="debugVariableView"
            name="%debugvarview.name"
            class="debugview.variableview.DebugVariableView"
            icon="icons\variable.png"/>
    </extension>

    <!--Tenon Debugger 初始视图-->
    <extension point="org.eclipse.ui.views">
        <view 
            id="debugBreakpointView"
            name="%debugbpview.name"
            class="debugview.breakpointview.DebugBreakpointView"
            icon="icons\breakpoint.png"/>
    </extension>

    <!--Tenon Debugger 初始视图启动-->
    <extension
        point="org.eclipse.ui.handlers">
        <handler
            class="debugview.DoDebugView"
            commandId="doDebugView">
        </handler>
    </extension>

    <!--Tenon Debugger 初始视图启动-->   
    <extension
        point="org.eclipse.ui.commands">
        <command
            id="doDebugView"
            name="doDebugView">
        </command>
    </extension>

    <extension
        point="org.eclipse.ui.menus">
        <!--Tenon Debugger功能在右键菜单中的按钮-->
        <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
            <command
                commandId="doDebugView"
                icon="icons/debug.png"
                label="%debugview.label"
                style="push">
            </command>
        </menuContribution>       
        <!--Tenon Debugger功能在上方工具栏中的按钮-->   
        <menuContribution
            locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
            <toolbar
                id="TenonIDE.debugtoolbar">
                <command
                    commandId="doDebugView"
                    icon="icons/debug.png"
                    tooltip="%debugview.label">
                </command>
            </toolbar>
        </menuContribution>
    </extension>
    <!-- End of Tenon Debugger Part-->

   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <command
               commandId="doDebug"
               label="%rc.start_tvm_mode"
               icon = "icons/start.png"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <command
               commandId="runT"
               label="%rc.run"
               icon = "icons/run.png"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <command
               commandId="nextT"
               label="%rc.next"
               icon = "icons/next.png"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <command
               commandId="breakpointT"
               label="%rc.breakpoint"
               icon = "icons/breakpoint.png"
               style="push">
         </command>
      </menuContribution>
            <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <command
               commandId="continueT"
               label="%rc.continue"
               icon = "icons/continue.png"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <command
               commandId="backtraceT"
               label="%rc.backtrace"
               icon = "icons/backtrace.png"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <command
               commandId="showT"
               label="%rc.show"
               icon = "icons/show.png"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <command
               commandId="disableT"
               label="%rc.disable"
               icon = "icons/disableselected.png"
               style="push">
         </command>
      </menuContribution> 
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <command
               commandId="quitTvm"
               label="%rc.quit_tvm_mode"
               icon = "icons/quit.png"
               style="push">
         </command>
      </menuContribution>
   </extension>
</plugin>

